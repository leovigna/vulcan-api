# Migration `20200417014005-migrate2`

This migration has been generated by Leo Vigna at 4/17/2020, 1:40:05 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."new_Event" (
    "address" TEXT NOT NULL  ,
    "blockHash" TEXT NOT NULL  ,
    "blockNumber" INTEGER NOT NULL  ,
    "data" TEXT NOT NULL  ,
    "event" TEXT NOT NULL  ,
    "id" TEXT NOT NULL  ,
    "logIndex" INTEGER NOT NULL  ,
    "returnValues" TEXT NOT NULL  ,
    "signature" TEXT NOT NULL  ,
    "transactionHash" TEXT NOT NULL  ,
    "transactionIndex" INTEGER NOT NULL  ,
    PRIMARY KEY ("id")
) 

INSERT INTO "quaint"."new_Event" ("data", "id") SELECT "data", "id" FROM "quaint"."Event"

DROP TABLE "quaint"."Event";

ALTER TABLE "quaint"."new_Event" RENAME TO "Event";

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200417010454-migrate1..20200417014005-migrate2
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model Operator {
   id   Int    @default(autoincrement()) @id
@@ -25,10 +25,19 @@
   contracts Contract[] @relation("EventContracts", references: [address])
 }
 model Event {
-  id   String @id
-  data String
+  id               String @id
+  data             String
+  returnValues     String
+  event            String
+  signature        String
+  logIndex         Int
+  transactionIndex Int
+  transactionHash  String
+  blockHash        String
+  blockNumber      Int
+  address          String
 }
 model OracleAggregator {
   id                 Int      @default(autoincrement()) @id
```


